<!DOCTYPE html>
<html>
	<head>
		<title>David Webster - Penetration Testing Process &amp; Tools</title>
    		<link href='http://fonts.googleapis.com/css?family=Roboto+Condensed|Kavoon' rel='stylesheet' type='text/css'>
		<link href='styles.css' rel='stylesheet' type='text/css'>
		<script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-12233647-6']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
	</head>
	<body>
		<h1>David Webster - Penetration Testing Process &amp; Tools</h1>
		<p class="bar"><a href="/" >Home</a>
<a  href="freelance-pen-testing.html">Freelance Penetration Testing</a>
<a  class="selected" href="pen-testing-process.html">Penetration Testing Process</a>
<a  href="freelance-web-development.html">Freelance Web Development</a>
<a  href="personal-projects.html">Personal Projects</a>

</p>
		<div class="content" style="max-width: 600px">
		  <p>In 2013 I completed the <a href="http://www.sans.org/course/web-app-penetration-testing-ethical-hacking">Web App Penetration Testing and Ethical Hacking course</a> delivered by SANS. The content below is based on what I learned in that course, plus some other things I have learned elsewhere. This page is not intended to be a training course on how to do a pen test, it is more of a checklist for me, about all things that should be considered in a pen test.</p>
		  <p>A good Penetration Test has four phases - Reconnaissance, Mapping, Discovery and Exploitation. Following these phases methodically ensures the test is repeatable and reduces the risk of missing any part of the target.</p>
		  <h2>Reconnaissance</h2>
		  <p>During this phase the tester looks for all kinds of background information on the target from public sources. Sources include whois, DNS, Google and other on-line sources. In this phase the tester is looking for a list of IP addresses that are in scope, the URLs for the all the websites running on those machines, along other publically available information.</p>
		  <p><strong>nslookup</strong> is a basic way of getting information from a DNS server.</p>
		  <p><strong><a href="http://en.wikipedia.org/wiki/Dig_(command)">dig</a></strong> is a command line utility for interrogating a DNS server.</p>
		  <p><strong>whois</strong> can be used to find out who owns an IP address or domain name.</p>
		  <p><strong><a href="http://ha.ckers.org/fierce/">Fierce</a></strong> automates the extraction of lots of useful information from DNS.</p>
		  <p><strong><a href="http://searchenginewatch.com/article/2051946/Bing-Allows-Search-of-Domains-on-a-Single-IP-Address">Bing's ip: search</a></strong> is useful for finding other websites hosted on the same IP address.</p>
		  <p><strong><a href="http://www.exploit-db.com/google-dorks/">Google Dorks / Google Hacking Database (GHDB)</a></strong> contains many useful Google search queries that find sensitive files and directories.</p>
		  <p><strong><a href="http://www.informatica64.com/foca.aspx">Foca</a> is a clever tool with a nice GUI that uses search engines to find documents on your target, and then it downloads the documents and extracts the meta-data, which may give you server names, usernames, and other helpful information.</p>
		  <p><strong><a href="http://www.paterva.com/web6/products/maltego.php">Maltego</a></strong> is a graphical tool that helps you collect and visualise links between people, organisations, servers, IP addresses, etc.</p>
		  <p>You can also scrape information from social networks with tools like <a href="http://www.digininja.org/projects/gpscan.php">gpscan</a>, <a href="https://github.com/FreedomCoder/esearchy_mirai">Esearchy</a>, and <a href="http://reconnoiter.sourceforge.net/">Reconnoiter</a>.
		  <p><strong><a href="http://www.shodanhq.com/">Shodan</a></strong> is a search engine that allows you to search the internet for connected devices. It searches in most HTTP headers.</p>
		  <h2>Mapping</p>
		  <p>During this phase the tester interrogates the target to get a detailed view of it. He will be looking for what services are running on each IP address, what pages are on the webserver(s), how strong the SSL is, and a target specific word list, which could be used for brute forcing directory names, file names, user names and passwords.</p>
		  <p><strong>nmap</strong> is good for port scanning, and telling you a bit about what is running on each port (finger printing).</p>
		  <p><strong><a href="http://www.cirt.net/nikto2">Nikto</a></strong> scans a web server to fingerprint the server and uses a large database of signatures to find vulnerabilities and risky configurations on the server.</p>
		  <p><strong><a href="https://www.ssllabs.com/ssltest/">Qualys SSL Server Test</a></strong> will tell you how well your SSL / TLS is implemented, including whether you are allowing any weak ciphers.</p>
		  <p><strong><a href="http://portswigger.net/burp/proxy.html">Burp</a></strong> can spider a site to find all linked pages. You can help it out by manually visiting any pages it can&rsquo;t find. You should look in the source of every page to find any hidden features and links, and other useful information in comments. You can also use <a href="https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project">ZAP</a> for spidering.</p>
		  <p>In this phase you should also try to understand whether the app is load balanced across multiple servers. There might be a number of clues to give this away, including cookies or HTTP headers added by the load balancer, or <a href="http://security.stackexchange.com/questions/36282/how-to-know-if-two-ip-addresses-point-to-the-same-web-server/36298#36298">other differences in the headers across requests that indicate load balancing</a>.</p>
		  <p>If the site uses session cookies, you can use <a href="http://portswigger.net/burp/proxy.html">Burp</a>'s Sequencer to analyse how random the cookies are.</p>
		  <p><strong><a href="https://www.owasp.org/index.php/Category:OWASP_DirBuster_Project">Dirbuster</a></strong> attempts to find files and folders that are not linked from other pages. It does this by brute forcing with lists of possible file and directory names.</p>
		  <p><strong><a href="http://www.digininja.org/projects/cewl.php">CeWL</a></strong> spiders a site and returns a list of words found on the site. These could be used in brute force attacks, as possible file names, usernames or passwords.</p>
		  <h2>Discovery</h2>
		  <p>During this phase the pen tester searches for vulnerabilities in the application, using a combination of automated scanners and manual techniques. Vulnerabilities may include SQL Injection (SQLi), Cross site scripting (XSS), business logic flaws, local file inclusion, remote file inclusion, and other issues. The first few tools below are more automated; further down are tools requiring more manual interaction.</p>
		  <p><strong><a href="http://code.google.com/p/websecurify/">WebSecurify</a></strong> is a scanner that requires virtually no user knowledge. Version 1.0 has limited features available for free, but version 0.9 is completely free. I prefer the desktop version.</p>
		  <p><strong><a href="https://code.google.com/p/skipfish/">Skipfish</a></strong> is a fast automated spider and scanner combined. It runs on the command line and generates a HTML report.</p>
		  <p><strong><a href="https://code.google.com/p/ratproxy/">Ratproxy</a></strong> is a mostly passive proxy.</p>
		  <p><strong><a href="http://w3af.org/">w3af</a></strong> is the Web Application Attack and Audit Framwork. It has a GUI and command line. It has modules to scan for many types of vulnerabilities.</p>
		  <p><strong><a href="http://portswigger.net/burp/proxy.html">Burp</a></strong> has an intruder feature than can be used to fuzz any part of a HTTP request.</p>
		  <p><strong><a href="http://fiddler2.com/">Fiddler</a></strong> is a proxy designed for debugging HTTP, and while it is not specifically designed for secuity testing, it is very useful for this, and it remains one of my favourite pieces of software of all time. It depends on the .NET framework, so I only use it on Windows.</p>
		  <h2>Exploitation</h2>
		  <p>There are a number of reasons why a pen tester needs to know how to exploit a vulnerability. It can be to prove to himself that the vulnerability exists, to prove to a developer that the vulnerability should be fixed, to demonstrate a weakness to a manager, or to continue the search for other vulnerabilities.</p>
		  <p><strong><a href="http://sqlmap.org/">SQLmap</a></strong> can automatically test for and exploit SQL Injection vulnerabilities, to do a wide range of things, including reading and writing data, viewing the database schema, and getting a command line shell on the database server.</p>
		  <p><strong><a href="http://beefproject.com/">BeEf</a></strong> is the Browser Exploitation Framework. It is a framework which has a nice GUI and a wide range of built in exploits for XSS.</p>
		</div>
	</body>
</html>
